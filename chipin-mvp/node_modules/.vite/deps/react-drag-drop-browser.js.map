{
  "version": 3,
  "sources": ["../../react-drag-drop-browser/dist/esm/index.mjs", "../../react-drag-drop-browser/dist/esm/components/drag-and-drop.js", "../../react-drag-drop-browser/dist/esm/lib/join-classes.js", "../../react-drag-drop-browser/dist/esm/components/file-browser.js"],
  "sourcesContent": ["import \"./styles.css\";\nexport { default as DragAndDrop } from \"./components/drag-and-drop\";\nexport { default as FileBrowser } from \"./components/file-browser\";\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, cloneElement } from \"react\";\nimport { classNames } from \"../lib/join-classes\";\nconst initState = {\n    dropped: false,\n    dragging: false,\n    inDropZone: false,\n};\nexport default function DragAndDrop(props) {\n    const { zoneId = \"hot-zone\", dataTestId = \"hot-zone\", maxSizeInMB = 1, children = \"Drop files here\", inZoneClassName = \"inside-hot-zone\", zoneClassName = \"hot-zone\", render = undefined, onDropFiles, } = props;\n    const sizeInBytes = maxSizeInMB * 1024 * 1024;\n    const [state, setState] = useState(initState);\n    const resetState = () => {\n        setState(initState);\n    };\n    const handleDragEnter = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        // During ENTER, we want to check if the event is triggered by the DnD zone\n        // If yes, then we're within the zone\n        const target = e.target;\n        const currentTarget = e.currentTarget;\n        const relatedTarget = e.relatedTarget;\n        const triggeredByHotZone = target?.id === zoneId;\n        const eventInDropZone = triggeredByHotZone || currentTarget?.contains(relatedTarget);\n        setState((prev) => ({\n            ...prev,\n            dropped: false,\n            inDropZone: eventInDropZone,\n        }));\n    };\n    const handleDragLeave = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        // During LEAVE, we want to check if the event trigger is located within the DnD zone\n        // because this time we're assumed to be already inside the borders of the DnD zone\n        // If the event is triggered by something OUTSIDE of the DnD zone, then we're no longer\n        // inside the borders of the DnD zone\n        const currentTarget = e.currentTarget;\n        const relatedTarget = e.relatedTarget;\n        const eventInDropZone = currentTarget?.contains(relatedTarget);\n        setState((prev) => ({\n            ...prev,\n            dropped: false,\n            inDropZone: eventInDropZone,\n        }));\n    };\n    const handleDragOver = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const target = e.target;\n        const currentTarget = e.currentTarget;\n        e.dataTransfer.dropEffect = \"copy\";\n        setState((prev) => ({\n            ...prev,\n            dragging: true,\n            inDropZone: currentTarget?.contains(target),\n        }));\n    };\n    const handleDrop = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const fileArray = Array.from(e.dataTransfer.files).filter((file) => file.size <= sizeInBytes);\n        onDropFiles(fileArray);\n        resetState();\n    };\n    if (render) {\n        const renderWithId = (renderProps) => {\n            const renderedNode = render(renderProps);\n            return cloneElement(renderedNode, { id: zoneId });\n        };\n        return renderWithId({\n            state,\n            resetState,\n            onDrop: handleDrop,\n            onDragEnter: handleDragEnter,\n            onDragLeave: handleDragLeave,\n            onDragOver: handleDragOver,\n        });\n    }\n    return (_jsx(\"section\", { id: zoneId, \"data-testid\": dataTestId, \"aria-labelledby\": \"Drag and drop zone\", className: classNames(zoneClassName, state.inDropZone ? inZoneClassName : \"\"), onBlur: resetState, onDrop: handleDrop, onDragOver: handleDragOver, onDragEnter: handleDragEnter, onDragLeave: handleDragLeave, children: children }));\n}\n", "export function classNames(...classes) {\n    return classes.filter(Boolean).join(\" \");\n}\n", "import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useRef } from \"react\";\nimport { classNames } from \"../lib/join-classes\";\nexport default function FileBrowser(props) {\n    const { dataTestId = \"file-browser\", inputId = \"input-id\", maxSizeInMB = 1, multiple = false, allowedFileTypes = [\".pdf\", \".jpeg\", \".png\", \".jpg\"], pickerBtnText = \"Click here to browse files\", pickerBtnClassName = \"file-browser-button\", render = undefined, onSelectFiles, } = props;\n    const sizeInBytes = maxSizeInMB * 1024 * 1024;\n    const isStringPicker = typeof pickerBtnText === \"string\";\n    const nopickerBtnText = pickerBtnText === null ||\n        pickerBtnText === undefined ||\n        (typeof pickerBtnText === \"string\" && pickerBtnText === \"\");\n    const inputRef = useRef();\n    const pickFileHandler = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const fileArray = Array.from(e.target.files).filter((file) => file.size <= sizeInBytes);\n        onSelectFiles(fileArray);\n    };\n    if (render === undefined && nopickerBtnText) {\n        return (_jsxs(\"p\", { \"data-testid\": \"invalid-component\", children: [\"You must provide a \", _jsx(\"code\", { children: \"render\" }), \" prop or\", \" \", _jsx(\"code\", { children: \"pickerBtnText\" }), \" prop\"] }));\n    }\n    return (_jsxs(_Fragment, { children: [render ? (render({\n                onClick() {\n                    inputRef.current?.click();\n                },\n            })) : (_jsx(\"button\", { type: \"button\", \"data-testid\": dataTestId, onClick: () => {\n                    inputRef.current?.click();\n                }, className: classNames(isStringPicker ? pickerBtnClassName : \"\"), children: pickerBtnText })), _jsx(\"input\", { value: \"\", type: \"file\", id: inputId, \"data-testid\": inputId, multiple: multiple, accept: allowedFileTypes.join(\",\"), style: { display: \"none\" }, autoComplete: \"new-password\", onChange: (e) => {\n                    pickFileHandler(e);\n                }, ref: (node) => (inputRef.current = node) })] }));\n}\n"],
  "mappings": ";;;;;;;;;;;AAAA,OAAO;;;ACAP,yBAA4B;AAC5B,mBAAuC;;;ACDhC,SAAS,cAAc,SAAS;AACnC,SAAO,QAAQ,OAAO,OAAO,EAAE,KAAK,GAAG;AAC3C;;;ADCA,IAAM,YAAY;AAAA,EACd,SAAS;AAAA,EACT,UAAU;AAAA,EACV,YAAY;AAChB;AACe,SAAR,YAA6B,OAAO;AACvC,QAAM,EAAE,SAAS,YAAY,aAAa,YAAY,cAAc,GAAG,WAAW,mBAAmB,kBAAkB,mBAAmB,gBAAgB,YAAY,SAAS,QAAW,YAAa,IAAI;AAC3M,QAAM,cAAc,cAAc,OAAO;AACzC,QAAM,CAAC,OAAO,QAAQ,QAAI,uBAAS,SAAS;AAC5C,QAAM,aAAa,MAAM;AACrB,aAAS,SAAS;AAAA,EACtB;AACA,QAAM,kBAAkB,CAAC,MAAM;AAC3B,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAGlB,UAAM,SAAS,EAAE;AACjB,UAAM,gBAAgB,EAAE;AACxB,UAAM,gBAAgB,EAAE;AACxB,UAAM,sBAAqB,iCAAQ,QAAO;AAC1C,UAAM,kBAAkB,uBAAsB,+CAAe,SAAS;AACtE,aAAS,CAAC,UAAU;AAAA,MAChB,GAAG;AAAA,MACH,SAAS;AAAA,MACT,YAAY;AAAA,IAChB,EAAE;AAAA,EACN;AACA,QAAM,kBAAkB,CAAC,MAAM;AAC3B,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAKlB,UAAM,gBAAgB,EAAE;AACxB,UAAM,gBAAgB,EAAE;AACxB,UAAM,kBAAkB,+CAAe,SAAS;AAChD,aAAS,CAAC,UAAU;AAAA,MAChB,GAAG;AAAA,MACH,SAAS;AAAA,MACT,YAAY;AAAA,IAChB,EAAE;AAAA,EACN;AACA,QAAM,iBAAiB,CAAC,MAAM;AAC1B,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAClB,UAAM,SAAS,EAAE;AACjB,UAAM,gBAAgB,EAAE;AACxB,MAAE,aAAa,aAAa;AAC5B,aAAS,CAAC,UAAU;AAAA,MAChB,GAAG;AAAA,MACH,UAAU;AAAA,MACV,YAAY,+CAAe,SAAS;AAAA,IACxC,EAAE;AAAA,EACN;AACA,QAAM,aAAa,CAAC,MAAM;AACtB,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAClB,UAAM,YAAY,MAAM,KAAK,EAAE,aAAa,KAAK,EAAE,OAAO,CAAC,SAAS,KAAK,QAAQ,WAAW;AAC5F,gBAAY,SAAS;AACrB,eAAW;AAAA,EACf;AACA,MAAI,QAAQ;AACR,UAAM,eAAe,CAAC,gBAAgB;AAClC,YAAM,eAAe,OAAO,WAAW;AACvC,iBAAO,2BAAa,cAAc,EAAE,IAAI,OAAO,CAAC;AAAA,IACpD;AACA,WAAO,aAAa;AAAA,MAChB;AAAA,MACA;AAAA,MACA,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,aAAa;AAAA,MACb,YAAY;AAAA,IAChB,CAAC;AAAA,EACL;AACA,aAAQ,mBAAAA,KAAK,WAAW,EAAE,IAAI,QAAQ,eAAe,YAAY,mBAAmB,sBAAsB,WAAW,WAAW,eAAe,MAAM,aAAa,kBAAkB,EAAE,GAAG,QAAQ,YAAY,QAAQ,YAAY,YAAY,gBAAgB,aAAa,iBAAiB,aAAa,iBAAiB,SAAmB,CAAC;AACjV;;;AEjFA,IAAAC,sBAAkE;AAClE,IAAAC,gBAAuB;AAER,SAAR,YAA6B,OAAO;AACvC,QAAM,EAAE,aAAa,gBAAgB,UAAU,YAAY,cAAc,GAAG,WAAW,OAAO,mBAAmB,CAAC,QAAQ,SAAS,QAAQ,MAAM,GAAG,gBAAgB,8BAA8B,qBAAqB,uBAAuB,SAAS,QAAW,cAAe,IAAI;AACrR,QAAM,cAAc,cAAc,OAAO;AACzC,QAAM,iBAAiB,OAAO,kBAAkB;AAChD,QAAM,kBAAkB,kBAAkB,QACtC,kBAAkB,UACjB,OAAO,kBAAkB,YAAY,kBAAkB;AAC5D,QAAM,eAAW,sBAAO;AACxB,QAAM,kBAAkB,CAAC,MAAM;AAC3B,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAClB,UAAM,YAAY,MAAM,KAAK,EAAE,OAAO,KAAK,EAAE,OAAO,CAAC,SAAS,KAAK,QAAQ,WAAW;AACtF,kBAAc,SAAS;AAAA,EAC3B;AACA,MAAI,WAAW,UAAa,iBAAiB;AACzC,eAAQ,oBAAAC,MAAM,KAAK,EAAE,eAAe,qBAAqB,UAAU,CAAC,2BAAuB,oBAAAC,KAAK,QAAQ,EAAE,UAAU,SAAS,CAAC,GAAG,YAAY,SAAK,oBAAAA,KAAK,QAAQ,EAAE,UAAU,gBAAgB,CAAC,GAAG,OAAO,EAAE,CAAC;AAAA,EAC7M;AACA,aAAQ,oBAAAD,MAAM,oBAAAE,UAAW,EAAE,UAAU,CAAC,SAAU,OAAO;AAAA,IAC3C,UAAU;AArB1B;AAsBoB,qBAAS,YAAT,mBAAkB;AAAA,IACtB;AAAA,EACJ,CAAC,QAAM,oBAAAD,KAAK,UAAU,EAAE,MAAM,UAAU,eAAe,YAAY,SAAS,MAAM;AAxB9F;AAyBoB,mBAAS,YAAT,mBAAkB;AAAA,EACtB,GAAG,WAAW,WAAW,iBAAiB,qBAAqB,EAAE,GAAG,UAAU,cAAc,CAAC,OAAI,oBAAAA,KAAK,SAAS,EAAE,OAAO,IAAI,MAAM,QAAQ,IAAI,SAAS,eAAe,SAAS,UAAoB,QAAQ,iBAAiB,KAAK,GAAG,GAAG,OAAO,EAAE,SAAS,OAAO,GAAG,cAAc,gBAAgB,UAAU,CAAC,MAAM;AAC9S,oBAAgB,CAAC;AAAA,EACrB,GAAG,KAAK,CAAC,SAAU,SAAS,UAAU,KAAM,CAAC,CAAC,EAAE,CAAC;AACjE;",
  "names": ["_jsx", "import_jsx_runtime", "import_react", "_jsxs", "_jsx", "_Fragment"]
}
